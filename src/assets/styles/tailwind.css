@import "tailwindcss";

@plugin "@tailwindcss/typography";
@plugin "@tailwindcss/forms";

@custom-variant dark (&:is(.dark *));

@theme {
  --color-primary: var(--aw-color-primary);
  --color-secondary: var(--aw-color-secondary);
  --color-accent: var(--aw-color-accent);
  --color-hover: var(--aw-color-text-hover);
  --color-heading: var(--aw-color-text-heading);
  --color-default: var(--aw-color-text-default);
  --color-muted: var(--aw-color-text-muted);

  --font-sans:
    var(--aw-font-sans), ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",
    "Noto Color Emoji";
  --font-serif: var(--aw-font-serif), ui-serif, Georgia, Cambria, "Times New Roman", Times, serif;
  --font-heading:
    var(--aw-font-heading), ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji", "Segoe UI Emoji",
    "Segoe UI Symbol", "Noto Color Emoji";

  --breakpoint-xs: 375px;
}

/*
  The default border color has changed to `currentColor` in Tailwind CSS v4,
  so we've added these compatibility styles to make sure everything still
  looks the same as it did with Tailwind CSS v3.

  If we ever want to remove these styles, we need to add an explicit border
  color utility to any element that depends on these defaults.
*/

@layer base {
  *,
  ::after,
  ::before,
  ::backdrop,
  ::file-selector-button {
    border-color: var(--color-gray-200, currentColor);
  }

  a {
    @apply text-secondary underline;
  }
  a:visited {
    @apply text-secondary;
  }
  a:hover,
  a:active {
    @apply text-hover;
  }

  /* menu-link style for nav in Header on narrow screens */
  a.menu-link {
    @apply text-default no-underline;
  }
  a.menu-link:visited,
  a.menu-link:hover,
  a.menu-link:active {
    @apply text-default;
  }

  /* home-link style for site name in Header and Footer */
  a.home-link {
    @apply text-default no-underline;
  }
  a.home-link:visited {
    @apply text-default;
  }
  a.home-link:hover,
  a.home-link:active {
    @apply text-secondary no-underline;
  }
}

@utility bg-page {
  background-color: var(--aw-color-bg-page);
}

@utility bg-dark {
  background-color: var(--aw-color-bg-page-dark);
}

@utility bg-light {
  background-color: var(--aw-color-bg-page);
}

@utility text-page {
  color: var(--aw-color-text-page);
}

@utility text-muted {
  color: var(--aw-color-text-muted);
}

@utility btn {
  @apply text-page inline-flex cursor-pointer items-center justify-center rounded-full border border-gray-400 bg-transparent px-6 py-3.5 text-center text-base leading-snug font-medium transition duration-200 ease-in hover:border-gray-600 hover:bg-gray-100 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-blue-200 md:px-8 dark:border-slate-500 dark:text-slate-300 dark:hover:border-slate-800 dark:hover:bg-slate-800;
}

@utility btn-primary {
  @apply btn border-primary bg-primary hover:border-secondary hover:bg-secondary dark:border-primary dark:bg-primary dark:hover:border-secondary dark:hover:bg-secondary font-semibold text-white hover:text-white dark:text-white;
}

@utility btn-secondary {
  @apply btn;
}

@utility btn-tertiary {
  @apply btn text-muted border-none shadow-none hover:text-gray-900 dark:text-gray-400 dark:hover:text-white;
}

#header.scroll > div:first-child {
  @apply bg-page md:bg-white/90 md:backdrop-blur-md;
  box-shadow: 0 0.375rem 1.5rem 0 rgb(140 152 164 / 13%);
}
.dark #header.scroll > div:first-child,
#header.scroll.dark > div:first-child {
  @apply bg-page border-b border-gray-500/20 md:bg-[#030621e6];
  box-shadow: none;
}
/* #header.scroll > div:last-child {
  @apply py-3;
} */

#header.expanded nav {
  position: fixed;
  top: 70px;
  left: 0;
  right: 0;
  bottom: 70px !important;
  padding: 0 5px;
}

.dropdown:hover .dropdown-menu {
  display: block;
}

.footnotes {
  @apply my-8 border-t border-b border-gray-300 py-4;
}

.footnotes p {
  font-size: small;
}

[astro-icon].icon-light > * {
  stroke-width: 1.2;
}

[astro-icon].icon-bold > * {
  stroke-width: 2.4;
}

[data-aw-toggle-menu] path {
  @apply transition;
}
[data-aw-toggle-menu].expanded g > path:first-child {
  @apply translate-x-[-3px] translate-y-[15px] -rotate-45;
}
[data-aw-toggle-menu].expanded g > path:last-child {
  @apply translate-x-[14px] translate-y-[-8px] rotate-45;
}

.astro-code code {
  @apply block w-fit px-4;
}

.astro-code code .highlighted {
  @apply -mx-4 inline-block bg-yellow-800 px-4;
}
